<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AccelStepperI2C: I2Cwrapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AccelStepperI2C
   &#160;<span id="projectnumber">v0.2.2</span>
   </div>
   <div id="projectbrief">I2C wrapper (and a bit more) for the AccelStepper Arduino library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_i2_cwrapper.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_i2_cwrapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">I2Cwrapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A helper class for the <a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a> and related libraries.  
 <a href="class_i2_cwrapper.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A helper class for the <a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a> and related libraries. </p>
<p>I split it from an earlier version of the <a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a> library when adding Servo support, to be able to have a clean separation librarywise between the two: The wrapper represents the I2C slave and handles all communication with it. <a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a>, <a class="el" href="class_servo_i2_c.html" title="An I2C wrapper class for the Arduino Servo library.">ServoI2C</a>, and others use it for communicating with the slave. To do so, an <a class="el" href="class_i2_cwrapper.html" title="A helper class for the AccelStepperI2C and related libraries.">I2Cwrapper</a> object is instantiated with the slave's I2C address and then passed to its client object's (<a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a> etc.) constructor. </p><dl class="section user"><dt>Command codes</dt><dd><ul>
<li>000 - 009 (reserved)</li>
<li>010 - 059 <a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a></li>
<li>060 - 069 <a class="el" href="class_servo_i2_c.html" title="An I2C wrapper class for the Arduino Servo library.">ServoI2C</a></li>
<li>070 - 079 <a class="el" href="class_pin_i2_c.html" title="An I2C wrapper class for remote analog and digital pin control.">PinI2C</a></li>
<li>080 - 239 (unused)</li>
<li>240 - 255 <a class="el" href="class_i2_cwrapper.html" title="A helper class for the AccelStepperI2C and related libraries.">I2Cwrapper</a> commands (reset slave, change address etc.) </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd>New classes could use <a class="el" href="class_i2_cwrapper.html" title="A helper class for the AccelStepperI2C and related libraries.">I2Cwrapper</a> to easily add even more capabilities to the slave, e.g. for driving DC motors, granted that the firmware is extended accordingly and the above list of uint8_t command codes is kept free from duplicates. </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa3f8a3a94950331c58946ab96a22e53a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#aa3f8a3a94950331c58946ab96a22e53a">I2Cwrapper</a> (uint8_t i2c_address, uint8_t maxBuf=<a class="el" href="_i2_cwrapper_8h.html#ac761f6bc28d53219cc5273671e5c0a3a">maxBufDefault</a>)</td></tr>
<tr class="memdesc:aa3f8a3a94950331c58946ab96a22e53a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="class_i2_cwrapper.html#aa3f8a3a94950331c58946ab96a22e53a">More...</a><br /></td></tr>
<tr class="separator:aa3f8a3a94950331c58946ab96a22e53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efa3b87ade5a202bd57255fcf6a5bbe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a8efa3b87ade5a202bd57255fcf6a5bbe">ping</a> ()</td></tr>
<tr class="memdesc:a8efa3b87ade5a202bd57255fcf6a5bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if slave is listening.  <a href="class_i2_cwrapper.html#a8efa3b87ade5a202bd57255fcf6a5bbe">More...</a><br /></td></tr>
<tr class="separator:a8efa3b87ade5a202bd57255fcf6a5bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c634bb576b76b11a591fdf74bafcfdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a1c634bb576b76b11a591fdf74bafcfdb">reset</a> ()</td></tr>
<tr class="memdesc:a1c634bb576b76b11a591fdf74bafcfdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the slave to reset to it's default state. It is recommended to reset the slave every time the master is started or restarted to put it in a defined state. Else it could happen that the slave still manages units (steppers, etc.) which the master does not know about.  <a href="class_i2_cwrapper.html#a1c634bb576b76b11a591fdf74bafcfdb">More...</a><br /></td></tr>
<tr class="separator:a1c634bb576b76b11a591fdf74bafcfdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8084b9fc49113a5a6d2214e1878457e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#ab8084b9fc49113a5a6d2214e1878457e">changeI2Caddress</a> (uint8_t <a class="el" href="_change__address_8ino.html#a53811bf61b46bdfb67602aeafbb0b739">newAddress</a>)</td></tr>
<tr class="memdesc:ab8084b9fc49113a5a6d2214e1878457e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Permanently change the I2C address of the device. The new address is stored in EEPROM (AVR) or flash memory (ESPs) and will be active after the next reset/reboot.  <a href="class_i2_cwrapper.html#ab8084b9fc49113a5a6d2214e1878457e">More...</a><br /></td></tr>
<tr class="separator:ab8084b9fc49113a5a6d2214e1878457e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32301b5659f124217e59413192849dde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a32301b5659f124217e59413192849dde">setInterruptPin</a> (int8_t pin, bool activeHigh=true)</td></tr>
<tr class="memdesc:a32301b5659f124217e59413192849dde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a global interrupt pin which can be used by device units (steppers, servos...) to inform the master that something important happend. Currently used by <a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a> to inform about end stop hits and target reached events.  <a href="class_i2_cwrapper.html#a32301b5659f124217e59413192849dde">More...</a><br /></td></tr>
<tr class="separator:a32301b5659f124217e59413192849dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1365ca44e217ce79bcfc3fe0c2ee7cac"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a1365ca44e217ce79bcfc3fe0c2ee7cac">clearInterrupt</a> ()</td></tr>
<tr class="memdesc:a1365ca44e217ce79bcfc3fe0c2ee7cac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge a received interrupt to slave so that it can clear the interupt condition and return the reason for the interrupt.  <a href="class_i2_cwrapper.html#a1365ca44e217ce79bcfc3fe0c2ee7cac">More...</a><br /></td></tr>
<tr class="separator:a1365ca44e217ce79bcfc3fe0c2ee7cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa512ca27376efd779426fcd836e629e2"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#aa512ca27376efd779426fcd836e629e2">setI2Cdelay</a> (unsigned long delay)</td></tr>
<tr class="memdesc:aa512ca27376efd779426fcd836e629e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a minimum time that the master waits between I2C transmissions. This is to make sure that the slave has finished its earlier task or has its answer to the master's previous command ready. Particularly for ESP32 slaves this is critical, as due to its implementation of I2C slave mode, an ESP32 could theoretically send incomplete data if a request is sent too early. The actual delay will take the time spent since the last I2C transmission into account, so that it won't wait at all if the given time has already passed.  <a href="class_i2_cwrapper.html#aa512ca27376efd779426fcd836e629e2">More...</a><br /></td></tr>
<tr class="separator:aa512ca27376efd779426fcd836e629e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421b62d34f39ae7c21908a961180bd89"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a421b62d34f39ae7c21908a961180bd89">getSlaveVersion</a> ()</td></tr>
<tr class="memdesc:a421b62d34f39ae7c21908a961180bd89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get semver compliant version of slave firmware.  <a href="class_i2_cwrapper.html#a421b62d34f39ae7c21908a961180bd89">More...</a><br /></td></tr>
<tr class="separator:a421b62d34f39ae7c21908a961180bd89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c348765ec579770db7749e15a05d81"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#ac2c348765ec579770db7749e15a05d81">checkVersion</a> (uint32_t masterVersion)</td></tr>
<tr class="memdesc:ac2c348765ec579770db7749e15a05d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get version of slave firmware and compare it with library version.  <a href="class_i2_cwrapper.html#ac2c348765ec579770db7749e15a05d81">More...</a><br /></td></tr>
<tr class="separator:ac2c348765ec579770db7749e15a05d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99818d9f4b28834ce7611759c6b45032"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a99818d9f4b28834ce7611759c6b45032">sentErrors</a> ()</td></tr>
<tr class="memdesc:a99818d9f4b28834ce7611759c6b45032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return and reset the number of failed commands sent since the last time this method was used. A command is sent each time a function call is transmitted to the slave.  <a href="class_i2_cwrapper.html#a99818d9f4b28834ce7611759c6b45032">More...</a><br /></td></tr>
<tr class="separator:a99818d9f4b28834ce7611759c6b45032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595582aa091af76fc27c472d081db4db"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a595582aa091af76fc27c472d081db4db">resultErrors</a> ()</td></tr>
<tr class="memdesc:a595582aa091af76fc27c472d081db4db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return and reset the number of failed receive events since the last time this method was used. A receive event happens each time a function returns a value from the slave.  <a href="class_i2_cwrapper.html#a595582aa091af76fc27c472d081db4db">More...</a><br /></td></tr>
<tr class="separator:a595582aa091af76fc27c472d081db4db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26fad87074cea9cf636cbd49226c8c5"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#af26fad87074cea9cf636cbd49226c8c5">transmissionErrors</a> ()</td></tr>
<tr class="memdesc:af26fad87074cea9cf636cbd49226c8c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return and reset the sum of failed commands sent <em>and</em> failed receive events since the last time this method was used. Use this if you are only interested in the sum of all transmission errors, not in what direction the errors occurred.  <a href="class_i2_cwrapper.html#af26fad87074cea9cf636cbd49226c8c5">More...</a><br /></td></tr>
<tr class="separator:af26fad87074cea9cf636cbd49226c8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f424cf28f8044a69b8ae94bb3d7292d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a7f424cf28f8044a69b8ae94bb3d7292d">prepareCommand</a> (uint8_t cmd, uint8_t unit=-1)</td></tr>
<tr class="separator:a7f424cf28f8044a69b8ae94bb3d7292d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64dc95baffdae6e8cfe07ea902fc926b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a64dc95baffdae6e8cfe07ea902fc926b">sendCommand</a> ()</td></tr>
<tr class="separator:a64dc95baffdae6e8cfe07ea902fc926b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd966608c453a72646dfe37e061fee7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#adfd966608c453a72646dfe37e061fee7">readResult</a> (uint8_t numBytes)</td></tr>
<tr class="separator:adfd966608c453a72646dfe37e061fee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af3b285450dd823865580c281c06bded4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_simple_buffer.html">SimpleBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#af3b285450dd823865580c281c06bded4">buf</a></td></tr>
<tr class="separator:af3b285450dd823865580c281c06bded4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c3023339571c205c161a82576fd4f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#a51c3023339571c205c161a82576fd4f4">sentOK</a> = false</td></tr>
<tr class="memdesc:a51c3023339571c205c161a82576fd4f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if previous function call was successfully transferred to slave.  <a href="class_i2_cwrapper.html#a51c3023339571c205c161a82576fd4f4">More...</a><br /></td></tr>
<tr class="separator:a51c3023339571c205c161a82576fd4f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0d76a351cee8c7ce48f87d13e27dbc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i2_cwrapper.html#abf0d76a351cee8c7ce48f87d13e27dbc">resultOK</a> = false</td></tr>
<tr class="memdesc:abf0d76a351cee8c7ce48f87d13e27dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if return value from previous function call was received successfully.  <a href="class_i2_cwrapper.html#abf0d76a351cee8c7ce48f87d13e27dbc">More...</a><br /></td></tr>
<tr class="separator:abf0d76a351cee8c7ce48f87d13e27dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa3f8a3a94950331c58946ab96a22e53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f8a3a94950331c58946ab96a22e53a">&#9670;&nbsp;</a></span>I2Cwrapper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">I2Cwrapper::I2Cwrapper </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>i2c_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>maxBuf</em> = <code><a class="el" href="_i2_cwrapper_8h.html#ac761f6bc28d53219cc5273671e5c0a3a">maxBufDefault</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c_address</td><td>Address of the slave device </td></tr>
    <tr><td class="paramname">maxBuf</td><td>Upper limit of send and receive buffer including 1 crc8 byte </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab8084b9fc49113a5a6d2214e1878457e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8084b9fc49113a5a6d2214e1878457e">&#9670;&nbsp;</a></span>changeI2Caddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2Cwrapper::changeI2Caddress </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>newAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Permanently change the I2C address of the device. The new address is stored in EEPROM (AVR) or flash memory (ESPs) and will be active after the next reset/reboot. </p>

</div>
</div>
<a id="ac2c348765ec579770db7749e15a05d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c348765ec579770db7749e15a05d81">&#9670;&nbsp;</a></span>checkVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2Cwrapper::checkVersion </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>masterVersion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get version of slave firmware and compare it with library version. </p>
<dl class="section return"><dt>Returns</dt><dd>true if both versions match, i.a. are compatible. </dd></dl>

</div>
</div>
<a id="a1365ca44e217ce79bcfc3fe0c2ee7cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1365ca44e217ce79bcfc3fe0c2ee7cac">&#9670;&nbsp;</a></span>clearInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t I2Cwrapper::clearInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acknowledge a received interrupt to slave so that it can clear the interupt condition and return the reason for the interrupt. </p>
<dl class="section return"><dt>Returns</dt><dd>Reason for the interrupt as 8bit BCD with triggering unit in lower 4 bits and trigger reason in the upper 4 bits. 0xff in case of error. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___interrupt_reasons.html" title="Used by clearInterrup() to inform the master about what caused the previous interrupt.">List of possible reasons an interrupt was triggered.</a> </dd></dl>

</div>
</div>
<a id="a421b62d34f39ae7c21908a961180bd89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a421b62d34f39ae7c21908a961180bd89">&#9670;&nbsp;</a></span>getSlaveVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t I2Cwrapper::getSlaveVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get semver compliant version of slave firmware. </p>
<dl class="section return"><dt>Returns</dt><dd>major version in bits 0-7, minor version in bits 8-15; patch version in bits 16-23; 0xFFFFFFFF on error. </dd></dl>

</div>
</div>
<a id="a8efa3b87ade5a202bd57255fcf6a5bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8efa3b87ade5a202bd57255fcf6a5bbe">&#9670;&nbsp;</a></span>ping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2Cwrapper::ping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if slave is listening. </p>
<dl class="section return"><dt>Returns</dt><dd>true if slave could be found under the given address. </dd></dl>

</div>
</div>
<a id="a7f424cf28f8044a69b8ae94bb3d7292d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f424cf28f8044a69b8ae94bb3d7292d">&#9670;&nbsp;</a></span>prepareCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2Cwrapper::prepareCommand </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>unit</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adfd966608c453a72646dfe37e061fee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd966608c453a72646dfe37e061fee7">&#9670;&nbsp;</a></span>readResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2Cwrapper::readResult </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>numBytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c634bb576b76b11a591fdf74bafcfdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c634bb576b76b11a591fdf74bafcfdb">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2Cwrapper::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the slave to reset to it's default state. It is recommended to reset the slave every time the master is started or restarted to put it in a defined state. Else it could happen that the slave still manages units (steppers, etc.) which the master does not know about. </p>

</div>
</div>
<a id="a595582aa091af76fc27c472d081db4db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595582aa091af76fc27c472d081db4db">&#9670;&nbsp;</a></span>resultErrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t I2Cwrapper::resultErrors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return and reset the number of failed receive events since the last time this method was used. A receive event happens each time a function returns a value from the slave. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_i2_cwrapper.html#a99818d9f4b28834ce7611759c6b45032" title="Return and reset the number of failed commands sent since the last time this method was used....">sentErrors()</a>, <a class="el" href="class_i2_cwrapper.html#af26fad87074cea9cf636cbd49226c8c5" title="Return and reset the sum of failed commands sent and failed receive events since the last time this m...">transmissionErrors()</a> </dd></dl>

</div>
</div>
<a id="a64dc95baffdae6e8cfe07ea902fc926b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64dc95baffdae6e8cfe07ea902fc926b">&#9670;&nbsp;</a></span>sendCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2Cwrapper::sendCommand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a99818d9f4b28834ce7611759c6b45032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99818d9f4b28834ce7611759c6b45032">&#9670;&nbsp;</a></span>sentErrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t I2Cwrapper::sentErrors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return and reset the number of failed commands sent since the last time this method was used. A command is sent each time a function call is transmitted to the slave. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_i2_cwrapper.html#a595582aa091af76fc27c472d081db4db" title="Return and reset the number of failed receive events since the last time this method was used....">resultErrors()</a>, <a class="el" href="class_i2_cwrapper.html#af26fad87074cea9cf636cbd49226c8c5" title="Return and reset the sum of failed commands sent and failed receive events since the last time this m...">transmissionErrors()</a> </dd></dl>

</div>
</div>
<a id="aa512ca27376efd779426fcd836e629e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa512ca27376efd779426fcd836e629e2">&#9670;&nbsp;</a></span>setI2Cdelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long I2Cwrapper::setI2Cdelay </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a minimum time that the master waits between I2C transmissions. This is to make sure that the slave has finished its earlier task or has its answer to the master's previous command ready. Particularly for ESP32 slaves this is critical, as due to its implementation of I2C slave mode, an ESP32 could theoretically send incomplete data if a request is sent too early. The actual delay will take the time spent since the last I2C transmission into account, so that it won't wait at all if the given time has already passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay</td><td>Minimum time in between I2C transmissions in milliseconds. The default I2CdefaultDelay is a bit conservative at 10 ms to allow for for serial debugging output to slow things down. You can try to go lower, if slave debugging is disabled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the previously set delay. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd><del>I2Cdelay is currently global; make it a per-slave setting.</del> implemented with <a class="el" href="class_i2_cwrapper.html" title="A helper class for the AccelStepperI2C and related libraries.">I2Cwrapper</a>. </dd></dl>

</div>
</div>
<a id="a32301b5659f124217e59413192849dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32301b5659f124217e59413192849dde">&#9670;&nbsp;</a></span>setInterruptPin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2Cwrapper::setInterruptPin </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>activeHigh</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a global interrupt pin which can be used by device units (steppers, servos...) to inform the master that something important happend. Currently used by <a class="el" href="class_accel_stepper_i2_c.html" title="An I2C wrapper class for the AccelStepper library.">AccelStepperI2C</a> to inform about end stop hits and target reached events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>Pin the slave will use to send out interrupts. </td></tr>
    <tr><td class="paramname">activeHigh</td><td>If true, HIGH will signal an interrupt. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_accel_stepper_i2_c.html#a0015e762b6a5ab8a545574e1642358ef" title="Start or stop sending interrupts to master for this stepper. An interrupt will be sent whenever a sta...">AccelStepperI2C::enableInterrupts()</a> </dd></dl>

</div>
</div>
<a id="af26fad87074cea9cf636cbd49226c8c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af26fad87074cea9cf636cbd49226c8c5">&#9670;&nbsp;</a></span>transmissionErrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t I2Cwrapper::transmissionErrors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return and reset the sum of failed commands sent <em>and</em> failed receive events since the last time this method was used. Use this if you are only interested in the sum of all transmission errors, not in what direction the errors occurred. </p>
<dl class="section return"><dt>Returns</dt><dd>Sum of <a class="el" href="class_i2_cwrapper.html#a99818d9f4b28834ce7611759c6b45032" title="Return and reset the number of failed commands sent since the last time this method was used....">sentErrors()</a> and <a class="el" href="class_i2_cwrapper.html#a595582aa091af76fc27c472d081db4db" title="Return and reset the number of failed receive events since the last time this method was used....">resultErrors()</a> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_i2_cwrapper.html#a99818d9f4b28834ce7611759c6b45032" title="Return and reset the number of failed commands sent since the last time this method was used....">sentErrors()</a>, <a class="el" href="class_i2_cwrapper.html#a595582aa091af76fc27c472d081db4db" title="Return and reset the number of failed receive events since the last time this method was used....">resultErrors()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af3b285450dd823865580c281c06bded4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b285450dd823865580c281c06bded4">&#9670;&nbsp;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_simple_buffer.html">SimpleBuffer</a> I2Cwrapper::buf</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abf0d76a351cee8c7ce48f87d13e27dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf0d76a351cee8c7ce48f87d13e27dbc">&#9670;&nbsp;</a></span>resultOK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2Cwrapper::resultOK = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>True if return value from previous function call was received successfully. </p>

</div>
</div>
<a id="a51c3023339571c205c161a82576fd4f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c3023339571c205c161a82576fd4f4">&#9670;&nbsp;</a></span>sentOK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2Cwrapper::sentOK = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>True if previous function call was successfully transferred to slave. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_i2_cwrapper_8h.html">I2Cwrapper.h</a></li>
<li><a class="el" href="_i2_cwrapper_8cpp.html">I2Cwrapper.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_i2_cwrapper.html">I2Cwrapper</a></li>
    <li class="footer">Generated on Sat Mar 19 2022 22:58:04 for AccelStepperI2C by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
